var message = document.getElementById("message");

var bookmarklet = {
	"roman": `javascript:(()=>{var s=document.getElementById("fix-style");if(s==null){var s=document.createElement("style");s.id="fix-style";s.textContent=".client-js .collapsible-block:not(.collapsible-block-js){display:block;}";document.body.appendChild(s);}var t=document.getElementById("font-style");null!=t&&t.remove();var e=document.querySelectorAll(".mw-parser-output :lang(ain)");if(0!=e.length)for(var r=0;r<e.length;r++){var a=e[r].getAttribute("data-roman");null!=a&&(e[r].textContent=a,e[r].removeAttribute("data-roman"))}})();`,
	"katakana": `javascript:(()=>{var s=document.getElementById("fix-style");if(s==null){var s=document.createElement("style");s.id="fix-style";s.textContent=".client-js .collapsible-block:not(.collapsible-block-js){display:block;}";document.body.appendChild(s);}var a=[["\\xe1","a"],["\\xed","i"],["\\xfa","u"],["\\xe9","e"],["\\xf3","o"],[", ?","、"],["\\\\. ?","。"],["! ?","！"],["\\\\? ?","？"],[" ?“","「"],["” ?","」"],[" ?‘","『"],["’ ?","』"],["(?<=[a-z])-(?=[a-z])","・"],["(?<=[a-z])=|=(?=[a-z])","゠"],["ih","iㇶ"],["uh","uㇷ"],["eh","eㇸ"],["oh","oㇹ"],["h","ㇵ"],["iĥ","iㇶ‌̣"],["uĥ","uㇷ‌̣"],["eĥ","eㇸ‌̣"],["oĥ","oㇹ‌̣"],["ĥ","ㇵ‌̣"],["ar","aㇻ"],["ir","iㇼ"],["er","eㇾ"],["or","oㇿ"],["r","ㇽ"],["[ㇵ-ㇹ]a","ハ"],["[ㇵ-ㇹ]i","ヒ"],["[ㇵ-ㇹ]u","フ"],["[ㇵ-ㇹ]e","ヘ"],["[ㇵ-ㇹ]o","ホ"],["[ㇵ-ㇹ]‌̣a",""],["[ㇵ-ㇹ]‌̣i",""],["[ㇵ-ㇹ]‌̣u",""],["[ㇵ-ㇹ]‌̣e",""],["[ㇵ-ㇹ]‌̣o",""],["ㇷ‌̣","‌̣"],["[ㇻ-ㇿ]a","ラ"],["[ㇻ-ㇿ]i","リ"],["[ㇻ-ㇿ]u","ル"],["[ㇻ-ㇿ]e","レ"],["[ㇻ-ㇿ]o","ロ"],["ka","カ"],["ki","キ"],["ku","ク"],["ke","ケ"],["ko","コ"],["k","ㇰ"],["ga","ガ"],["gi","ギ"],["gu","グ"],["ge","ゲ"],["go","ゴ"],["g","ㇰ゙"],["ċa",""],["ċi",""],["ċu","ツ"],["ċe",""],["ċo",""],["sa","サ"],["ṡi",""],["su","ス"],["se","セ"],["so","ソ"],["ŝa",""],["[sŝ]i","シ"],["ŝu",""],["ŝe",""],["ŝo",""],["d̂a",""],["d̂̇i",""],["d̂u","ヅ"],["d̂e",""],["d̂o",""],["za","ザ"],["żi",""],["zu","ズ"],["ze","ゼ"],["zo","ゾ"],["ĝa",""],["d̂i|ĝi","ヂ"],["ĝu",""],["ĝe",""],["ĝo",""],["ĵa",""],["[ĵz]i","ジ"],["ĵu",""],["ĵe",""],["ĵo",""],["ca",""],["ci","チ"],["cu",""],["ce",""],["co",""],["ċ",""],["ṡ","ㇲ"],["[sŝ]","ㇱ"],["d̂̇","ッ゙"],["ż","ㇲ゙"],["d[ĵz]","\\uD82C\\uDD5A゙"],["[ĵz]","ㇱ゙"],["c","\\uD82C\\uDD5A"],["ta","タ"],["ti",""],["tu",""],["te","テ"],["to","ト"],["t","ㇳ"],["da","ダ"],["di",""],["du",""],["de","デ"],["do","ド"],["d","ㇳ゙"],["na","ナ"],["ni","ニ"],["nu","ヌ"],["ne","ネ"],["no","ノ"],["n(?=゠[aiueo])","ㇴ"],["n","ン"],["ḣu",""],["ba","バ"],["bi","ビ"],["bu","ブ"],["be","ベ"],["bo","ボ"],["b","ㇷ゙"],["pa","パ"],["pi","ピ"],["pu","プ"],["pe","ペ"],["po","ポ"],["p",""],["ma","マ"],["mi","ミ"],["mu","ム"],["me","メ"],["mo","モ"],["m","ㇺ"],["ya","ヤ"],["yi","\\uD82C\\uDD20"],["yu","ユ"],["ye","\\uD82C\\uDD21"],["yo","ヨ"],["y",""],["wa","ワ"],["wi","ヰ"],["wu","\\uD82C\\uDD22"],["we","ヱ"],["wo","ヲ"],["w",""],["va","ヷ"],["vi","ヸ"],["vu",""],["ve","ヹ"],["vo","ヺ"],["v","\\uD82C\\uDD6D゙"],["fa",""],["fi",""],["fu",""],["fe",""],["fo",""],["f","\\uD82C\\uDD6D゚"],["a","ア"],["i","イ"],["u","ウ"],["e","エ"],["o","オ"],["ʼ",""]],t=document.getElementById("font-style");null==t&&((t=document.createElement("style")).id="font-style",document.body.appendChild(t)),t.textContent='@font-face{font-family:"Mkana+";src:local("Mkana+"),url("https://toracatman.github.io/fonts/mkanaplus.woff2")format("woff2"),url("https://toracatman.github.io/fonts/mkanaplus.woff")format("woff");font-display:swap;}[data-roman],.mw-body-content [data-roman]{font-family:"Mkana+";}[data-exclude],.mw-body-content [data-exclude]{font-family:sans-serif;}';var e=document.querySelectorAll(".mw-parser-output :lang(ain)");if(0!=e.length){for(var o=0;o<e.length;o++){var n=e[o].getAttribute("data-roman");null==n&&(n=e[o].textContent,e[o].setAttribute("data-roman",n))}for(var i=e[0].getAttribute("data-roman")??e[0].textContent,o=1;o<e.length;o++)i+="\\x1e"+(e[o].getAttribute("data-roman")??e[o].textContent);var u=[];i=i.replace(/[A-Z]{2,}|[A-Z]\\d|[0-9↊-↏-]+(?=p|pe|n|iw)|[0-9↊-↏-]+[A-Za-z]+|\\.{2,}/g,a=>(u.push(a),"\\x1a"));for(var o=0;o<a.length;o++)i=i.replace(RegExp(a[o][0],"ig"),a[o][1]);var r=i.split("\\x1a");i="";for(var o=0;o<u.length;o++)i+=r[o]+u[o];i+=r[u.length],i=i.split("\\x1e");for(var o=0;o<e.length;o++)e[o].textContent=i[o]}})();`,
	"katakana-substitute": `javascript:(()=>{var s=document.getElementById("fix-style");if(s==null){var s=document.createElement("style");s.id="fix-style";s.textContent=".client-js .collapsible-block:not(.collapsible-block-js){display:block;}";document.body.appendChild(s);}var e=[["\\xe1","a"],["\\xed","i"],["\\xfa","u"],["\\xe9","e"],["\\xf3","o"],[", ?","、"],["\\\\. ?","。"],["! ?","！"],["\\\\? ?","？"],[" ?“","「"],["” ?","」"],[" ?‘","『"],["’ ?","』"],["(?<=[a-z])-(?=[a-z])","・"],["(?<=[a-z])=|=(?=[a-z])","゠"],["ih","iㇶ"],["uh","uㇷ"],["eh","eㇸ"],["oh","oㇹ"],["h","ㇵ"],["iĥ","iㇶ‌̣"],["uĥ","uㇷ‌̣"],["eĥ","eㇸ‌̣"],["oĥ","oㇹ‌̣"],["ĥ","ㇵ‌̣"],["ar","aㇻ"],["ir","iㇼ"],["er","eㇾ"],["or","oㇿ"],["r","ㇽ"],["[ㇵ-ㇹ]a","ハ"],["[ㇵ-ㇹ]i","ヒ"],["[ㇵ-ㇹ]u","フ"],["[ㇵ-ㇹ]e","ヘ"],["[ㇵ-ㇹ]o","ホ"],["[ㇵ-ㇹ]‌̣a","ハ‌̣"],["[ㇵ-ㇹ]‌̣i","ヒ‌̣"],["[ㇵ-ㇹ]‌̣u","ホｩ‌̣"],["[ㇵ-ㇹ]‌̣e","ヘ‌̣"],["[ㇵ-ㇹ]‌̣o","ホ‌̣"],["ㇷ‌̣","ㇹｩ‌̣"],["[ㇻ-ㇿ]a","ラ"],["[ㇻ-ㇿ]i","リ"],["[ㇻ-ㇿ]u","ル"],["[ㇻ-ㇿ]e","レ"],["[ㇻ-ㇿ]o","ロ"],["ka","カ"],["ki","キ"],["ku","ク"],["ke","ケ"],["ko","コ"],["k","ㇰ"],["ga","ガ"],["gi","ギ"],["gu","グ"],["ge","ゲ"],["go","ゴ"],["g","ㇰ゙"],["ċa","ツｧ"],["ċi","ツｨ"],["ċu","ツ"],["ċe","ツｪ"],["ċo","ツｫ"],["sa","サ"],["ṡi","スｨ"],["su","ス"],["se","セ"],["so","ソ"],["ŝa","シｬ"],["[sŝ]i","シ"],["ŝu","シｭ"],["ŝe","シｪ"],["ŝo","シｮ"],["d̂a","ヅｧ"],["d̂̇i","ヅｨ"],["d̂u","ヅ"],["d̂e","ヅｪ"],["d̂o","ヅｫ"],["za","ザ"],["żi","ズｨ"],["zu","ズ"],["ze","ゼ"],["zo","ゾ"],["ĝa","ヂｬ"],["d̂i|ĝi","ヂ"],["ĝu","ヂｭ"],["ĝe","ヂｪ"],["ĝo","ヂｮ"],["ĵa","ジｬ"],["[ĵz]i","ジ"],["ĵu","ジｭ"],["ĵe","ジｪ"],["ĵo","ジｮ"],["ca","チｬ"],["ci","チ"],["cu","チｭ"],["ce","チｪ"],["co","チｮ"],["ċ","ッﾒ"],["ṡ","ㇲ"],["[sŝ]","ㇱ"],["d̂̇","ッ゙"],["ż","ㇲ゙"],["d[ĵz]","ﾁヂ"],["[ĵz]","ㇱ゙"],["c","ﾁチ"],["ta","タ"],["ti","テｨ"],["tu","トｩ"],["te","テ"],["to","ト"],["t","ㇳ"],["da","ダ"],["di","デｨ"],["du","ドｩ"],["de","デ"],["do","ド"],["d","ㇳ゙"],["na","ナ"],["ni","ニ"],["nu","ヌ"],["ne","ネ"],["no","ノ"],["n(?=゠[aiueo])","ㇴ"],["n","ン"],["ḣu","ホｩ"],["ba","バ"],["bi","ビ"],["bu","ブ"],["be","ベ"],["bo","ボ"],["b","ㇷ゙"],["pa","パ"],["pi","ピ"],["pu","プ"],["pe","ペ"],["po","ポ"],["p","ㇷ゚"],["ma","マ"],["mi","ミ"],["mu","ム"],["me","メ"],["mo","モ"],["m","ㇺ"],["ya","ヤ"],["yi","イｨ"],["yu","ユ"],["ye","イｪ"],["yo","ヨ"],["y","ィ‌̣"],["wa","ワ"],["wi","ヰ"],["wu","ウｩ"],["we","ヱ"],["wo","ヲ"],["w","ゥ‌̣"],["va","ヷ"],["vi","ヸ"],["vu","ウｩ゙"],["ve","ヹ"],["vo","ヺ"],["v","ゥｩ゙"],["fa","ワ゚"],["fi","ヰ゚"],["fu","ウｩ゚"],["fe","ヱ゚"],["fo","ヲ゚"],["f","ゥｩ゚"],["a","ア"],["i","イ"],["u","ウ"],["e","エ"],["o","オ"],["ʼ",""]],a=document.getElementById("font-style");null!=a&&a.remove();var t=document.querySelectorAll(".mw-parser-output :lang(ain)");if(0!=t.length){for(var o=0;o<t.length;o++){var i=t[o].getAttribute("data-roman");null==i&&(i=t[o].textContent,t[o].setAttribute("data-roman",i))}for(var u=t[0].getAttribute("data-roman")??t[0].textContent,o=1;o<t.length;o++)u+="\\x1e"+(t[o].getAttribute("data-roman")??t[o].textContent);var r=[];u=u.replace(/[A-Z]{2,}|[A-Z]\\d|[0-9↊-↏-]+(?=p|pe|n|iw)|[0-9↊-↏-]+[A-Za-z]+|\\.{2,}/g,e=>(r.push(e),"\\x1a"));for(var o=0;o<e.length;o++)u=u.replace(RegExp(e[o][0],"ig"),e[o][1]);var n=u.split("\\x1a");u="";for(var o=0;o<r.length;o++)u+=n[o]+r[o];u+=n[r.length],u=u.split("\\x1e");for(var o=0;o<t.length;o++)t[o].textContent=u[o]}})();`,
	"hiragana": `javascript:(()=>{var s=document.getElementById("fix-style");if(s==null){var s=document.createElement("style");s.id="fix-style";s.textContent=".client-js .collapsible-block:not(.collapsible-block-js){display:block;}";document.body.appendChild(s);}var a=[["\\xe1","a"],["\\xed","i"],["\\xfa","u"],["\\xe9","e"],["\\xf3","o"],[", ?","、"],["\\\\. ?","。"],["! ?","！"],["\\\\? ?","？"],[" ?“","「"],["” ?","」"],[" ?‘","『"],["’ ?","』"],["(?<=[a-z])-(?=[a-z])","・"],["(?<=[a-z])=|=(?=[a-z])","゠"],["ih","i\\uD82C\\uDD42"],["uh","u\\uD82C\\uDD43"],["eh","e\\uD82C\\uDD44"],["oh","o\\uD82C\\uDD45"],["h","\\uD82C\\uDD41"],["iĥ","i\\uD82C\\uDD42‌̣"],["uĥ","u\\uD82C\\uDD43‌̣"],["eĥ","e\\uD82C\\uDD44‌̣"],["oĥ","o\\uD82C\\uDD45‌̣"],["ĥ","\\uD82C\\uDD41‌̣"],["ar","a\\uD82C\\uDD4B"],["ir","i\\uD82C\\uDD4C"],["er","e\\uD82C\\uDD4E"],["or","o\\uD82C\\uDD4F"],["r","\\uD82C\\uDD4D"],["[\\uD82C\\uDD41-\\uD82C\\uDD45]a","は"],["[\\uD82C\\uDD41-\\uD82C\\uDD45]i","ひ"],["[\\uD82C\\uDD41-\\uD82C\\uDD45]u","ふ"],["[\\uD82C\\uDD41-\\uD82C\\uDD45]e","へ"],["[\\uD82C\\uDD41-\\uD82C\\uDD45]o","ほ"],["[\\uD82C\\uDD41-\\uD82C\\uDD45]‌̣a",""],["[\\uD82C\\uDD41-\\uD82C\\uDD45]‌̣i",""],["[\\uD82C\\uDD41-\\uD82C\\uDD45]‌̣u",""],["[\\uD82C\\uDD41-\\uD82C\\uDD45]‌̣e",""],["[\\uD82C\\uDD41-\\uD82C\\uDD45]‌̣o",""],["\\uD82C\\uDD43‌̣","‌̣"],["[\\uD82C\\uDD4B-\\uD82C\\uDD4F]a","ら"],["[\\uD82C\\uDD4B-\\uD82C\\uDD4F]i","り"],["[\\uD82C\\uDD4B-\\uD82C\\uDD4F]u","る"],["[\\uD82C\\uDD4B-\\uD82C\\uDD4F]e","れ"],["[\\uD82C\\uDD4B-\\uD82C\\uDD4F]o","ろ"],["ka","か"],["ki","き"],["ku","く"],["ke","け"],["ko","こ"],["k","\\uD82C\\uDD31"],["ga","が"],["gi","ぎ"],["gu","ぐ"],["ge","げ"],["go","ご"],["g","\\uD82C\\uDD31゙"],["ċa",""],["ċi",""],["ċu","つ"],["ċe",""],["ċo",""],["sa","さ"],["ṡi",""],["su","す"],["se","せ"],["so","そ"],["ŝa","\\uD82C\\uDC43"],["[sŝ]i","し"],["ŝu",""],["ŝe",""],["ŝo",""],["d̂a",""],["d̂̇i",""],["d̂u","づ"],["d̂e",""],["d̂o",""],["za","ざ"],["żi",""],["zu","ず"],["ze","ぜ"],["zo","ぞ"],["ĝa",""],["d̂i|ĝi","ぢ"],["ĝu",""],["ĝe",""],["ĝo",""],["ĵa",""],["[ĵz]i","じ"],["ĵu",""],["ĵe",""],["ĵo",""],["ca",""],["ci","ち"],["cu",""],["ce",""],["co",""],["ċ",""],["ṡ","\\uD82C\\uDD35"],["[sŝ]","\\uD82C\\uDD34"],["d̂̇","っ゙"],["ż","\\uD82C\\uDD35゙"],["d[ĵz]","\\uD82C\\uDD39゙"],["[ĵz]","\\uD82C\\uDD34゙"],["c","\\uD82C\\uDD39"],["ta","た"],["ti",""],["tu","\\uD82C\\uDC6D"],["te","て"],["to","と"],["t","\\uD82C\\uDD3B"],["da","だ"],["di",""],["du",""],["de","で"],["do","ど"],["d","\\uD82C\\uDD3B゙"],["na","な"],["ni","に"],["nu","ぬ"],["ne","ね"],["no","の"],["n(?=゠[aiueo])","\\uD82C\\uDD3E"],["n","ん"],["ḣu","\\uD82C\\uDC39"],["ba","ば"],["bi","び"],["bu","ぶ"],["be","べ"],["bo","ぼ"],["b","\\uD82C\\uDD43゙"],["pa","ぱ"],["pi","ぴ"],["pu","ぷ"],["pe","ぺ"],["po","ぽ"],["p","\\uD82C\\uDD43゚"],["ma","ま"],["mi","み"],["mu","む"],["me","め"],["mo","も"],["m","\\uD82C\\uDD48"],["ya","や"],["yi","\\uD82C\\uDC06"],["yu","ゆ"],["ye","\\uD82C\\uDC01"],["yo","よ"],["y",""],["wa","わ"],["wi","ゐ"],["wu","\\uD82C\\uDD1F"],["we","ゑ"],["wo","を"],["w",""],["va",""],["vi",""],["vu",""],["ve",""],["vo",""],["v","\\uD82C\\uDD6A゙"],["fa",""],["fi",""],["fu",""],["fe",""],["fo",""],["f","\\uD82C\\uDD6A゚"],["a","あ"],["i","い"],["u","う"],["e","え"],["o","お"],["ʼ",""]],t=document.getElementById("font-style");null==t&&((t=document.createElement("style")).id="font-style",document.body.appendChild(t)),t.textContent='@font-face{font-family:"Mkana+";src:local("Mkana+"),url("https://toracatman.github.io/fonts/mkanaplus.woff2")format("woff2"),url("https://toracatman.github.io/fonts/mkanaplus.woff")format("woff");font-display:swap;}[data-roman],.mw-body-content [data-roman]{font-family:"Mkana+";}[data-exclude],.mw-body-content [data-exclude]{font-family:sans-serif;}';var e=document.querySelectorAll(".mw-parser-output :lang(ain)");if(0!=e.length){for(var o=0;o<e.length;o++){var n=e[o].getAttribute("data-roman");null==n&&(n=e[o].textContent,e[o].setAttribute("data-roman",n))}for(var i=e[0].getAttribute("data-roman")??e[0].textContent,o=1;o<e.length;o++)i+="\\x1e"+(e[o].getAttribute("data-roman")??e[o].textContent);var u=[];i=i.replace(/[A-Z]{2,}|[A-Z]\\d|[0-9↊-↏-]+(?=p|pe|n|iw)|[0-9↊-↏-]+[A-Za-z]+|\\.{2,}/g,a=>(u.push(a),"\\x1a"));for(var o=0;o<a.length;o++)i=i.replace(RegExp(a[o][0],"igu"),a[o][1]);var r=i.split("\\x1a");i="";for(var o=0;o<u.length;o++)i+=r[o]+u[o];i+=r[u.length],i=i.split("\\x1e");for(var o=0;o<e.length;o++)e[o].textContent=i[o]}})();`,
	"cyrillic": `javascript:(()=>{var s=document.getElementById("fix-style");if(s==null){var s=document.createElement("style");s.id="fix-style";s.textContent=".client-js .collapsible-block:not(.collapsible-block-js){display:block;}";document.body.appendChild(s);}var t=[["\\xc1","Á"],["\\xe1","á"],["\\xcd","Í"],["\\xed","í"],["\\xda","Ú"],["\\xfa","ú"],["\\xc9","É"],["\\xe9","é"],["\\xd3","Ó"],["\\xf3","ó"],["A","А"],["a","а"],["I","И"],["i","и"],["U","У"],["u","у"],["E","Э"],["e","э"],["O","О"],["o","о"],["K","К"],["k","к"],["G","Г"],["g","г"],["S","С"],["s","с"],["Z","З"],["z","з"],["Ṡ","С̇"],["ṡ","с̇"],["Ż","З̇"],["ż","з̇"],["Ŝ","Ш"],["ŝ","ш"],["Ĵ","Ж"],["ĵ","ж"],["C","Ч"],["c","ч"],["Ċ","Ц"],["ċ","ц"],["T","Т"],["t","т"],["D","Д"],["d","д"],["N","Н"],["n","н"],["Ḣ","Һ̇"],["ḣ","һ̇"],["H","Һ"],["h","һ"],["Ĥ","Х"],["ĥ","х"],["P","П"],["p","п"],["B","Б"],["b","б"],["M","М"],["m","м"],["Y","Ј"],["y","ј"],["R","Р"],["r","р"],["W","Ԝ"],["w","ԝ"],["V","В"],["v","в"],["F","Ф"],["f","ф"]],e=document.getElementById("font-style");null==e&&((e=document.createElement("style")).id="font-style",document.body.appendChild(e)),e.textContent='[data-roman],.mw-body-content [data-roman]{font-family:"Arial";}[data-exclude],.mw-body-content [data-exclude]{font-family:sans-serif;}';var a=document.querySelectorAll(".mw-parser-output :lang(ain)");if(0!=a.length){for(var n=0;n<a.length;n++){var r=a[n].getAttribute("data-roman");null==r&&(r=a[n].textContent,a[n].setAttribute("data-roman",r))}for(var l=a[0].getAttribute("data-roman")??a[0].textContent,n=1;n<a.length;n++)l+="\\x1e"+(a[n].getAttribute("data-roman")??a[n].textContent);var o=[];l=l.replace(/[A-Z]{2,}|[A-Z]\\d|[0-9↊-↏-]+(?=p|pe|n|iw)|[0-9↊-↏-]+[A-Za-z]+|\\.{2,}/g,t=>(o.push(t),"\\x1a"));for(var n=0;n<t.length;n++)l=l.replace(RegExp(t[n][0],"g"),t[n][1]);var d=l.split("\\x1a");l="";for(var n=0;n<o.length;n++)l+=d[n]+o[n];l+=d[o.length],l=l.split("\\x1e");for(var n=0;n<a.length;n++)a[n].textContent=l[n]}})();`,
};

function change() {
	document.form1.output.value = bookmarklet[document.form1.letter.value];
}

function messageActive() {
	message.textContent = "コピーしました！";
	setTimeout(() => { message.textContent = ""; }, 1000);
}
function copyToClipboard() {
	if (navigator.clipboard) {
		return navigator.clipboard.writeText(document.form1.output.value).then(() => {
			messageActive();
		});
	}
	else {
		document.form1.output.select();
		document.execCommand("copy");
		messageActive();
	}
}

(() => {
	var radio = document.querySelectorAll('input[name="letter"]');
	for (var i = 0; i < radio.length; i++) {
		radio[i].addEventListener("change", change);
	}
	change();
})();